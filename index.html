<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Professional Invoice Generator</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <div class="container animate__animated animate__fadeIn">
    <header>
      <h1><i class="fas fa-file-invoice-dollar"></i> Invoice Creator</h1>
      <p>Generate professional invoices instantly</p>
    </header>

    <div class="main-layout">
      <!-- Input Section -->
      <div class="input-panel card animate__animated animate__slideInLeft">
        <div class="section-title">Invoice Details</div>

        <div class="form-group">
          <label>Upload Logo</label>
          <input type="file" id="logoInput" accept="image/*" class="file-input">
        </div>

        <div class="row">
          <div class="form-group">
            <label>From (Sender)</label>
            <input type="text" id="senderName" placeholder="Your Company Name">
          </div>
          <div class="form-group">
            <label>Bill To (Client)</label>
            <input type="text" id="receiverName" placeholder="Client Name">
          </div>
        </div>

        <div class="row">
          <div class="form-group">
            <label>Invoice Number</label>
            <input type="text" id="invoiceNum" placeholder="#INV-1001">
          </div>
          <div class="form-group">
            <label>Business Type</label>
            <select id="businessType" onchange="toggleSMMFields()">
              <option value="general">General Business</option>
              <option value="smm">SMM Service</option>
            </select>
          </div>
        </div>

        <div class="form-group smm-only" style="display:none">
          <label>Target Link</label>
          <input type="text" id="targetLink" placeholder="https://social-profile-link.com" oninput="updatePreview()">
        </div>

        <div class="form-group">
          <label>Payment Method</label>
          <select id="paymentMethod" onchange="updatePreview()">
            <option value="none">None</option>
            <option value="bkash">bKash</option>
            <option value="nagad">Nagad</option>
            <option value="rocket">Rocket</option>
          </select>
        </div>

        <div class="items-section">
          <label>Line Items</label>
          <div id="itemsContainer">
            <div class="item-row">
              <input type="text" class="item-desc" placeholder="Description">
              <input type="number" class="item-qty" placeholder="Qty" value="1">
              <input type="number" class="item-price" placeholder="Price">
              <!-- SMM Specific Hidden Fields -->
              <input type="number" class="item-start-count smm-only" placeholder="Start Count" style="display:none">
              <input type="text" class="item-order-id smm-only" placeholder="Order ID" style="display:none">
              <button class="btn-remove" onclick="this.parentElement.remove(); updatePreview();"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <button class="btn-add" onclick="addItem()"><i class="fas fa-plus"></i> Add Item</button>
        </div>

        <div class="extra-charges">
          <div class="form-group">
            <label>Tax (%)</label>
            <input type="number" id="taxInput" value="0" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>VAT (%)</label>
            <input type="number" id="vatInput" value="0" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Discount (Amount)</label>
            <input type="number" id="discountInput" value="0" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Paid Amount</label>
            <input type="number" id="paidInput" value="0" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Currency Symbol</label>
            <input type="text" id="currencyInput" value="৳" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Note to Client</label>
            <textarea id="noteInput" rows="2" placeholder="e.g. Please pay within 7 days" oninput="updatePreview()"></textarea>
          </div>
        </div>
      </div>

      <!-- Preview Section -->
      <div class="preview-panel animate__animated animate__slideInRight">
        <div class="controls">
          <button class="btn-primary" onclick="downloadPDF()"><i class="fas fa-file-pdf"></i> Download PDF</button>
          <button class="btn-secondary" onclick="downloadImage()"><i class="fas fa-image"></i> Download Image</button>
          <button class="btn-add" style="width: auto; padding: 12px 20px; border: 1px solid var(--border); background: white;" onclick="updatePreview()">
            <i class="fas fa-sync-alt"></i> Refresh Preview
          </button>
        </div>

        <div class="preview-wrapper">
          <div id="invoicePreview" class="invoice-box">
            <div class="invoice-header">
              <div id="previewLogoContainer" class="logo-preview">
                <i class="fas fa-building fa-3x" style="color: #4f46e5;"></i>
              </div>
              <div class="invoice-meta">
                <h2 id="prevSenderName">YOUR COMPANY</h2>
                <p>Invoice #: <span id="prevInvoiceNum">#INV-000</span></p>
                <p>Date: <span id="prevDate">--/--/----</span></p>
              </div>
            </div>

            <div class="billing-info">
              <p class="label-text">BILL TO:</p>
              <h3 id="prevReceiverName">Client Name</h3>
              <div id="prevTargetLinkContainer" style="display:none; margin-top: 10px;">
                <p class="label-text">TARGET LINK:</p>
                <p id="prevTargetLink" style="font-size: 0.85rem; color: var(--primary); word-break: break-all;"></p>
              </div>
            </div>

            <table class="invoice-table">
              <thead>
                <tr id="tableHeader">
                  <th>Description</th>
                  <th class="text-right">Qty</th>
                  <th class="text-right">Price</th>
                  <th class="text-right">Total</th>
                </tr>
              </thead>
              <tbody id="previewItems">
                <!-- Items will appear here -->
              </tbody>
            </table>

            <div class="invoice-footer">
              <div class="summary">
                <div class="sum-row"><span>Subtotal:</span> <span id="prevSubtotal">৳ 0.00</span></div>
                <div class="sum-row"><span>Tax:</span> <span id="prevTax">৳ 0.00</span></div>
                <div class="sum-row"><span>VAT:</span> <span id="prevVat">৳ 0.00</span></div>
                <div class="sum-row"><span>Discount:</span> <span id="prevDiscount">৳ 0.00</span></div>
                <div class="sum-row total"><span>Grand Total:</span> <span id="prevTotal">৳ 0.00</span></div>
                <div class="sum-row"><span>Paid:</span> <span id="prevPaid">৳ 0.00</span></div>
                <div class="sum-row"><span>Due:</span> <span id="prevDue">৳ 0.00</span></div>
                <div id="paymentMethodPreview" class="sum-row" style="display:none; align-items: center; gap: 8px; margin-top: 10px; border-top: 1px dashed var(--border); padding-top: 10px;">
                    <span>Method:</span>
                    <span id="methodName" style="font-weight: 600;"></span>
                </div>
              </div>
            </div>

            <div id="paidStamp" class="paid-stamp" style="display: none;">PAID</div>

            <div id="prevNoteContainer" style="margin-top: 20px; font-size: 0.85rem; color: var(--text-light); border-top: 1px solid var(--border); padding-top: 10px; display: none;">
              <strong>Note:</strong> <span id="prevNote"></span>
            </div>

            <div class="thank-you">Thank you for your business!</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Initialize items and set date
document.getElementById('prevDate').innerText = new Date().toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});

// Logo handling
document.getElementById('logoInput').addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(event) {
      document.getElementById('previewLogoContainer').innerHTML = `<img src="${event.target.result}" alt="Logo">`;
      updatePreview();
    };
    reader.readAsDataURL(file);
  }
});

// Real-time updates for text fields
const inputs = ['senderName', 'receiverName', 'invoiceNum'];
inputs.forEach(id => {
  document.getElementById(id).addEventListener('input', updatePreview);
});

function toggleSMMFields() {
    const isSMM = document.getElementById('businessType').value === 'smm';
    const smmFields = document.querySelectorAll('.smm-only');
    smmFields.forEach(f => f.style.display = isSMM ? 'block' : 'none');

    // Update table header
    const tableHeader = document.getElementById('tableHeader');
    if (isSMM) {
        tableHeader.innerHTML = `
            <th>Service Name</th>
            <th>Order ID</th>
            <th class="text-right">Start Count</th>
            <th class="text-right">Qty</th>
            <th class="text-right">Price</th>
            <th class="text-right">Total</th>
        `;
    } else {
        tableHeader.innerHTML = `
            <th>Description</th>
            <th class="text-right">Qty</th>
            <th class="text-right">Price</th>
            <th class="text-right">Total</th>
        `;
    }
    updatePreview();
}

function addItem() {
  const container = document.getElementById('itemsContainer');
  const isSMM = document.getElementById('businessType').value === 'smm';
  const div = document.createElement('div');
  div.className = 'item-row animate__animated animate__fadeInUp';
  div.innerHTML = `
    <input type="text" class="item-desc" placeholder="${isSMM ? 'Service Name' : 'Item Description'}" oninput="updatePreview()">
    <input type="number" class="item-qty" placeholder="Qty" value="1" oninput="updatePreview()">
    <input type="number" class="item-price" placeholder="Price" oninput="updatePreview()">
    <input type="number" class="item-start-count smm-only" placeholder="Start Count" oninput="updatePreview()" style="display:${isSMM ? 'inline-block' : 'none'}">
    <input type="text" class="item-order-id smm-only" placeholder="Order ID" oninput="updatePreview()" style="display:${isSMM ? 'inline-block' : 'none'}">
    <button class="btn-remove" onclick="this.parentElement.remove(); updatePreview();"><i class="fas fa-trash"></i></button>
  `;
  container.appendChild(div);
  updatePreview();
}

function updatePreview() {
  const isSMM = document.getElementById('businessType').value === 'smm';
  const currency = document.getElementById('currencyInput').value || '৳';

  // Simple fields
  document.getElementById('prevSenderName').innerText = document.getElementById('senderName').value.toUpperCase() || 'YOUR COMPANY';
  document.getElementById('prevReceiverName').innerText = document.getElementById('receiverName').value || 'Client Name';
  document.getElementById('prevInvoiceNum').innerText = document.getElementById('invoiceNum').value || '#INV-000';

  // Table items
  const itemRows = document.querySelectorAll('.item-row');
  const previewItems = document.getElementById('previewItems');
  previewItems.innerHTML = '';

  let subtotal = 0;

  itemRows.forEach(row => {
    const desc = row.querySelector('.item-desc').value || (isSMM ? 'Service Name' : 'Item Description');
    const qty = parseFloat(row.querySelector('.item-qty').value) || 0;
    const price = parseFloat(row.querySelector('.item-price').value) || 0;
    const startCount = row.querySelector('.item-start-count').value || '0';
    const orderId = row.querySelector('.item-order-id').value || '-';
    
    // SMM logic: Total = Price (Price input is for the whole quantity)
    let total = isSMM ? price : (qty * price);
    subtotal += total;

    const tr = document.createElement('tr');
    if (isSMM) {
        tr.innerHTML = `
          <td>${desc}</td>
          <td>${orderId}</td>
          <td class="text-right">${startCount}</td>
          <td class="text-right">${qty}</td>
          <td class="text-right">${currency} ${price.toLocaleString(undefined, {minimumFractionDigits: 2})}</td>
          <td class="text-right">${currency} ${total.toLocaleString(undefined, {minimumFractionDigits: 2})}</td>
        `;
    } else {
        tr.innerHTML = `
          <td>${desc}</td>
          <td class="text-right">${qty}</td>
          <td class="text-right">${currency} ${price.toLocaleString(undefined, {minimumFractionDigits: 2})}</td>
          <td class="text-right">${currency} ${total.toLocaleString(undefined, {minimumFractionDigits: 2})}</td>
        `;
    }
    previewItems.appendChild(tr);
  });

  // Calculations
  const taxPercent = parseFloat(document.getElementById('taxInput').value) || 0;
  const vatPercent = parseFloat(document.getElementById('vatInput').value) || 0;
  const discount = parseFloat(document.getElementById('discountInput').value) || 0;
  const paid = parseFloat(document.getElementById('paidInput').value) || 0;

  const taxAmount = (subtotal * taxPercent) / 100;
  const vatAmount = (subtotal * vatPercent) / 100;
  const grandTotal = subtotal + taxAmount + vatAmount - discount;
  const due = Math.max(0, grandTotal - paid);

  document.getElementById('prevSubtotal').innerText = `${currency} ${subtotal.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevTax').innerText = `${currency} ${taxAmount.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevVat').innerText = `${currency} ${vatAmount.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevDiscount').innerText = `${currency} ${discount.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevTotal').innerText = `${currency} ${grandTotal.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevPaid').innerText = `${currency} ${paid.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
  document.getElementById('prevDue').innerText = `${currency} ${due.toLocaleString(undefined, {minimumFractionDigits: 2})}`;

  // Note Preview
  const note = document.getElementById('noteInput').value;
  const noteContainer = document.getElementById('prevNoteContainer');
  if (note) {
    noteContainer.style.display = 'block';
    document.getElementById('prevNote').innerText = note;
  } else {
    noteContainer.style.display = 'none';
  }

  // Target Link Preview
  const targetLink = document.getElementById('targetLink').value;
  const linkContainer = document.getElementById('prevTargetLinkContainer');
  if (isSMM && targetLink) {
      linkContainer.style.display = 'block';
      document.getElementById('prevTargetLink').innerText = targetLink;
  } else {
      linkContainer.style.display = 'none';
  }

  // Payment Method Preview
  const method = document.getElementById('paymentMethod').value;
  const methodPreview = document.getElementById('paymentMethodPreview');
  const methodName = document.getElementById('methodName');
  
  const methodData = {
      bkash: { name: 'bKash', color: '#e2136e', faIcon: 'fa-mobile-screen' },
      nagad: { name: 'Nagad', color: '#f7941d', faIcon: 'fa-money-bill-transfer' },
      rocket: { name: 'Rocket', color: '#8c3494', faIcon: 'fa-wallet' }
  };

  if (method !== 'none') {
      methodPreview.style.display = 'flex';
      methodName.innerHTML = `<i class="fas ${methodData[method].faIcon}" style="font-size: 1.2rem; color: ${methodData[method].color}; margin-right: 8px;"></i> ${methodData[method].name}`;
      methodName.style.color = methodData[method].color;
  } else {
      methodPreview.style.display = 'none';
  }

  // Paid Stamp Logic
  const paidStamp = document.getElementById('paidStamp');
  if (paid >= grandTotal && grandTotal > 0) {
      paidStamp.style.display = 'block';
  } else {
      paidStamp.style.display = 'none';
  }
}

// Download Functions
function downloadPDF() {
  const element = document.getElementById('invoicePreview');
  
  // Ensure the element is visible and scrolled into view for capturing
  const originalStyle = element.style.cssText;
  element.style.minWidth = "800px"; // Ensure consistent width for PDF

  const opt = {
    margin: [10, 10, 10, 10], // mm
    filename: `Invoice_${document.getElementById('invoiceNum').value || 'Draft'}.pdf`,
    image: { type: 'jpeg', quality: 0.98 },
    html2canvas: { 
      scale: 3, 
      useCORS: true,
      logging: true,
      letterRendering: true,
      backgroundColor: '#ffffff'
    },
    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
  };

  // Give a small delay to ensure icons and any images are fully rendered
  setTimeout(() => {
    html2pdf().from(element).set(opt).save().then(() => {
        element.style.cssText = originalStyle;
    }).catch(err => {
        console.error("PDF generation failed:", err);
        alert("PDF generation failed. Please try again or use Image download.");
        element.style.cssText = originalStyle;
    });
  }, 500);
}

function downloadImage() {
  const element = document.getElementById('invoicePreview');
  // Scroll to top to ensure capturing the whole element
  window.scrollTo(0,0);

  html2canvas(element, {
    scale: 2,
    backgroundColor: '#ffffff',
    useCORS: true,
    logging: false,
    allowTaint: true
  }).then(canvas => {
    const link = document.createElement('a');
    link.download = `Invoice_${document.getElementById('invoiceNum').value || 'Draft'}.png`;
    link.href = canvas.toDataURL('image/png', 1.0);
    link.click();
  }).catch(err => {
      console.error("Image generation failed:", err);
      alert("Image generation failed. Please try again.");
  });
}

// Initial call
updatePreview();
  </script>
</body>
<style>
  :root {
  --primary: #4f46e5;
  --primary-dark: #4338ca;
  --secondary: #10b981;
  --bg: #f3f4f6;
  --card: #ffffff;
  --text: #111827;
  --text-light: #6b7280;
  --border: #e5e7eb;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

body {
  background-color: var(--bg);
  color: var(--text);
  padding: 40px 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

header {
  text-align: center;
  margin-bottom: 40px;
}

header h1 {
  color: var(--primary);
  font-size: 2.5rem;
  font-weight: 800;
  letter-spacing: -0.025em;
  margin-bottom: 8px;
}

header p {
  color: var(--text-light);
  font-size: 1.1rem;
}

.card {
  background: var(--card);
  padding: 30px;
  border-radius: 16px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

.main-layout {
  display: grid;
  grid-template-columns: 450px 1fr;
  gap: 40px;
  align-items: start;
}

@media (max-width: 1024px) {
  .main-layout {
    grid-template-columns: 1fr;
  }
}

.section-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 24px;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 8px;
}

.form-group {
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

input, select {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 1rem;
  transition: all 0.2s;
  background: #f9fafb;
}

input:focus, select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
  outline: none;
  background: white;
}

.row {
  display: flex;
  gap: 16px;
}

.row .form-group {
  flex: 1;
}

.item-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border);
}

.item-row input {
    flex: 1;
    min-width: 80px;
}

.item-row .item-desc {
    flex: 2;
    min-width: 150px;
}

.btn-add, .btn-primary, .btn-secondary {
  cursor: pointer;
  border: none;
  border-radius: 8px;
  padding: 12px 24px;
  font-weight: 600;
  font-size: 0.95rem;
  transition: all 0.2s;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.btn-add {
  background: #f3f4f6;
  color: var(--text);
  width: 100%;
  margin-top: 8px;
  border: 2px dashed var(--border);
}

.btn-add:hover {
  background: #e5e7eb;
  border-color: var(--text-light);
}

.btn-remove {
  background: #fee2e2;
  color: #ef4444;
  border: none;
  border-radius: 8px;
  width: 44px;
  height: 44px;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-remove:hover {
  background: #fecaca;
}

.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-dark); transform: translateY(-1px); }

.btn-secondary { background: var(--secondary); color: white; }
.btn-secondary:hover { opacity: 0.9; transform: translateY(-1px); }

.controls {
  margin-bottom: 24px;
  display: flex;
  gap: 12px;
}

/* Invoice Box Styling */
.preview-wrapper {
    background: #525659;
    padding: 40px;
    border-radius: 12px;
    overflow-x: auto;
}

.invoice-box {
  background: white;
  padding: 60px;
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
  color: #1f2937;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  position: relative;
}

.invoice-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 60px;
}

.logo-preview {
  max-width: 180px;
}

.logo-preview img {
  width: 100%;
  height: auto;
  max-height: 100px;
  object-fit: contain;
}

.invoice-meta {
  text-align: right;
}

.invoice-meta h2 {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--primary);
  margin-bottom: 8px;
}

.invoice-meta p {
  color: var(--text-light);
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.billing-info {
  margin-bottom: 40px;
}

.billing-info .label-text {
  color: var(--text-light);
  font-size: 0.75rem;
  font-weight: 700;
  margin-bottom: 4px;
}

.billing-info h3 {
  font-size: 1.25rem;
  font-weight: 700;
}

.invoice-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 40px;
}

.invoice-table th {
  background: #f9fafb;
  text-align: left;
  padding: 12px 16px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  color: var(--text-light);
  border-top: 2px solid var(--text);
  border-bottom: 1px solid var(--border);
}

.invoice-table td {
  padding: 16px;
  border-bottom: 1px solid var(--border);
  font-size: 0.95rem;
}

.text-right { text-align: right !important; }

.invoice-footer {
  display: flex;
  justify-content: flex-end;
}

.summary {
  width: 280px;
}

.sum-row {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  font-size: 0.95rem;
}

.sum-row.total {
  border-top: 2px solid var(--text);
  margin-top: 16px;
  padding-top: 16px;
  font-weight: 800;
  font-size: 1.25rem;
  color: var(--text);
}

.paid-stamp {
    position: absolute;
    bottom: 100px;
    right: 50px;
    border: 5px solid #10b981;
    color: #10b981;
    font-size: 2rem;
    font-weight: 900;
    padding: 10px 20px;
    border-radius: 10px;
    transform: rotate(-15deg);
    opacity: 0.8;
    pointer-events: none;
    text-transform: uppercase;
}

.thank-you {
  text-align: center;
  margin-top: 80px;
  font-size: 0.9rem;
  color: var(--text-light);
  border-top: 1px solid var(--border);
  padding-top: 20px;
}

/* Extra Mobile Adjustments */
@media (max-width: 768px) {
    body { padding: 10px; }
    .card { padding: 15px; border-radius: 12px; }
    .main-layout { grid-template-columns: 1fr; gap: 20px; }
    .preview-wrapper { padding: 5px; border-radius: 8px; }
    .invoice-box { padding: 20px; font-size: 14px; }
    .item-row { flex-direction: column; gap: 10px; padding: 15px; background: #f9fafb; border-radius: 8px; border: 1px solid var(--border); }
    .item-row input, .item-row select { width: 100% !important; }
    .invoice-header { flex-direction: column; text-align: center; gap: 20px; margin-bottom: 30px; }
    .invoice-meta { text-align: center; width: 100%; }
    .invoice-table { display: block; overflow-x: auto; white-space: nowrap; }
    .summary { width: 100%; }
    .controls { flex-direction: column; }
    .btn-primary, .btn-secondary { width: 100%; }
    /* SMM Table Responsive Fix */
    .invoice-table { 
        display: table;
        width: 100%;
        min-width: 600px;
    }
    .preview-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    .invoice-box {
        padding: 20px 15px;
    }
    .paid-stamp { 
        font-size: 1.5rem; 
        bottom: 80px; 
        right: 20px; 
    }
}

/* Advanced UI Touches */
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}
input:hover, select:hover {
    border-color: var(--primary);
}
.invoice-box {
    border-top: 8px solid var(--primary);
}
.summary .sum-row span:first-child {
    color: var(--text-light);
    font-weight: 500;
}
</style>
</html>
